<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>漫威宇宙角色大全（示例）</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#a6b0bd; --accent:#e62429;
    --glass: rgba(255,255,255,0.03);
    font-family: "Helvetica Neue", Arial, sans-serif;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    background:linear-gradient(180deg,#08101a,var(--bg));
    color:#e6eef6;
    -webkit-font-smoothing:antialiased;
    min-height:100vh;
  }
  header{
    display:flex;align-items:center;gap:20px;padding:18px 24px;
    background:linear-gradient(90deg, rgba(0,0,0,0.35), transparent);
    position:sticky;top:0;backdrop-filter:blur(6px);z-index:10;
  }
  .brand{display:flex;align-items:center;gap:12px;font-weight:700}
  .logo{
    width:44px;height:44px;border-radius:8px;background:linear-gradient(45deg,#ff3b3b,#ffb14d);
    display:inline-flex;align-items:center;justify-content:center;font-weight:800;color:#111;
    box-shadow:0 4px 12px rgba(0,0,0,0.45);
  }
  nav{margin-left:auto;display:flex;gap:10px;align-items:center}
  nav a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:6px}
  nav a:hover{background:var(--glass);color:#fff}

  .container{max-width:1100px;margin:28px auto;padding:0 18px}
  .hero{display:flex;gap:18px;align-items:center;margin-bottom:18px}
  .hero .left{flex:1}
  h1{margin:0;font-size:28px}
  p.lead{margin:6px 0 0;color:var(--muted)}
  .controls{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
  .search{
    display:flex;align-items:center;background:var(--card);padding:8px;border-radius:10px;
    min-width:220px;gap:8px;border:1px solid rgba(255,255,255,0.03)
  }
  .search input{background:transparent;border:0;outline:none;color:inherit;width:100%;padding:6px}
  .filters{display:flex;gap:8px;flex-wrap:wrap}
  .chip{padding:8px 12px;border-radius:999px;background:transparent;border:1px solid rgba(255,255,255,0.03);cursor:pointer;color:var(--muted)}
  .chip.active{background:rgba(255,255,255,0.06);color:#fff;border-color:rgba(255,255,255,0.08)}

  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;margin-top:20px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));padding:12px;border-radius:12px;display:flex;gap:12px;align-items:center;cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
  .thumb{width:64px;height:64px;border-radius:8px;background:#111;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--muted);font-size:12px;overflow:hidden}
  .meta h3{margin:0;font-size:16px}
  .meta p{margin:6px 0 0;color:var(--muted);font-size:13px}

  footer{color:var(--muted);text-align:center;padding:28px 14px}

  /* modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:50}
  .modal{background:linear-gradient(180deg,#0a1220,#061021);padding:18px;border-radius:12px;width:min(800px,94%);max-height:86vh;overflow:auto;border:1px solid rgba(255,255,255,0.04)}
  .modal .row{display:flex;gap:14px;align-items:flex-start}
  .modal .left{min-width:160px}
  .modal img{width:100%;border-radius:8px}
  .close-btn{background:transparent;border:0;color:var(--muted);cursor:pointer;font-size:18px}

  /* responsive */
  @media (max-width:640px){
    .hero{flex-direction:column;align-items:flex-start}
    nav{display:none}
  }
</style>
</head>
<body>
<header>
  <div class="brand">
    <div class="logo">MU</div>
    <div>
      <div style="font-size:14px">漫威宇宙角色大全</div>
      <div style="font-size:12px;color:var(--muted)">示例页面 — 可编辑与扩展</div>
    </div>
  </div>
  <nav>
    <a href="#list">角色</a>
    <a href="#about">关于</a>
    <a href="#contact">联系</a>
  </nav>
</header>

<main class="container">
  <section class="hero" id="top">
    <div class="left">
      <h1>漫威宇宙（Marvel Universe）重要角色一览</h1>
      <p class="lead">搜索、筛选并点击任意角色卡片查看详情。页面为示例，内置 JSON 数据，方便你继续补充“全角色”数据。</p>

      <div class="controls">
        <div class="search" role="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:0.8"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <input id="searchInput" placeholder="搜索角色 / 别名 / 能力..." />
        </div>

        <div class="filters" id="filters">
          <!-- chips 动态生成 -->
        </div>
      </div>
    </div>
  </section>

  <section id="list">
    <div class="grid" id="cardGrid">
      <!-- 卡片由 JS 生成 -->
    </div>
  </section>

  <section id="about" style="margin-top:28px">
    <h2>关于这个页面</h2>
    <p style="color:var(--muted)">本页面为示例，包含若干漫威主要角色数据（人物简介、阵营、能力标签等）。如果你想“涵盖所有角色”，建议把数据移到一个 JSON 文件或数据库，然后让页面按需分页/懒加载，避免一次性加载大量数据导致性能问题。</p>
    <ul style="color:var(--muted)">
      <li>如何扩充数据：编辑 <code>characters</code> 数组，增加或替换条目。</li>
      <li>图片：当前使用占位图，建议使用你授权的图片或官方艺术图（注意版权）。</li>
      <li>部署建议：GitHub Pages / Netlify / Vercel（免费）或购买域名 + 服务器。</li>
    </ul>
  </section>
</main>

<footer>
  <div>示例页面 · 由你维护 · 想要我把数据做成 CSV/JSON 吗？或帮你部署？告诉我〜</div>
</footer>

<!-- Modal -->
<div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <h3 id="modalTitle" style="margin:0"></h3>
      <button class="close-btn" id="modalClose">&times;</button>
    </div>
    <div class="row">
      <div class="left">
        <img id="modalImg" alt="thumbnail" />
      </div>
      <div style="flex:1">
        <p id="modalAliases" style="margin-top:0;color:var(--muted)"></p>
        <p id="modalBio" style="line-height:1.6;color:#d8e6f2"></p>
        <p style="margin-top:8px;color:var(--muted)"><strong>阵营：</strong><span id="modalFaction"></span></p>
        <p style="color:var(--muted)"><strong>能力 / 标签：</strong><span id="modalTags"></span></p>
      </div>
    </div>
  </div>
</div>

<script>
/*
  数据数组：你可以把它替换为 fetch('/data/characters.json') 的结果
  每个对象字段：
  - id, name, aliases (array), faction, short (简介), tags (array), img (url)
*/
const characters = [
  { id:1, name:"钢铁侠 / Tony Stark", aliases:["Iron Man","Tony"], faction:"Avengers", short:"天才、亿万富翁、花花公子、慈善家，穿戴高科技战甲的超级英雄。", tags:["科技","飞行","能量武器"], img:"https://via.placeholder.com/320x320?text=Iron+Man" },
  { id:2, name:"美国队长 / Steve Rogers", aliases:["Captain America","Steve"], faction:"Avengers", short:"二战战士，接受了超级士兵血清，象征正义与领导力。", tags:["盾牌","领导","增强体能"], img:"https://via.placeholder.com/320x320?text=Captain+America" },
  { id:3, name:"雷神 / Thor", aliases:["Thor Odinson"], faction:"Avengers", short:"阿斯加德王子，掌控雷电，使用战锤 Mjolnir / Stormbreaker。", tags:["雷电","神力","近战"], img:"https://via.placeholder.com/320x320?text=Thor" },
  { id:4, name:"黑寡妇 / Natasha Romanoff", aliases:["Black Widow"], faction:"Avengers", short:"前间谍、格斗专家与情报员，擅长潜入与近战。", tags:["格斗","谍报","特工"], img:"https://via.placeholder.com/320x320?text=Black+Widow" },
  { id:5, name:"浩克 / Bruce Banner", aliases:["Hulk","Bruce"], faction:"Avengers", short:"天才科学家，被伽玛射线辐射改变成为具有巨大力量的绿色巨人。", tags:["力量","愤怒增强","科学"], img:"https://via.placeholder.com/320x320?text=Hulk" },
  { id:6, name:"蜘蛛侠 / Peter Parker", aliases:["Spider-Man"], faction:"Avengers", short:"高中生/天才少年，获得蜘蛛般能力，擅长攀爬与蛛网作战。", tags:["敏捷","蛛网","少年英雄"], img:"https://via.placeholder.com/320x320?text=Spider-Man" },
  { id:7, name:"X教授 / Charles Xavier", aliases:["Professor X"], faction:"X-Men", short:"强大的变种人心灵感应者，X战警的创始人和导师。", tags:["心灵感应","导师","变种人权利"], img:"https://via.placeholder.com/320x320?text=Professor+X" },
  { id:8, name:"金刚狼 / Logan", aliases:["Wolverine","Logan"], faction:"X-Men", short:"具有强大愈合能力、爪子与不死属性的变种人。", tags:["自愈","利爪","近战"], img:"https://via.placeholder.com/320x320?text=Wolverine" },
  { id:9, name:"星爵 / Peter Quill", aliases:["Star-Lord"], faction:"Guardians", short:"银河护卫队领袖，喜欢弹唱复古音乐的走鬼式队长。", tags:["飞船","枪械","幽默"], img:"https://via.placeholder.com/320x320?text=Star-Lord" },
  { id:10, name:"灭霸 / Thanos", aliases:["Mad Titan"], faction:"Villain", short:"追求宇宙平衡的大反派，曾集齐无限宝石。", tags:["力量","无限宝石","战略"], img:"https://via.placeholder.com/320x320?text=Thanos" },
  { id:11, name:"洛基 / Loki", aliases:["Loki Laufeyson"], faction:"Antihero/Villain", short:"奥丁的养子，擅长魔法与幻术，性格狡诈多变。", tags:["幻术","魔法","狡猾"], img:"https://via.placeholder.com/320x320?text=Loki" },
  { id:12, name:"奇异博士 / Stephen Strange", aliases:["Doctor Strange"], faction:"Avengers", short:"至尊魔法师，掌握时间与多元宇宙层面的魔法。", tags:["魔法","时空","巫术"], img:"https://via.placeholder.com/320x320?text=Doctor+Strange" },
  { id:13, name:"黑豹 / T'Challa", aliases:["Black Panther"], faction:"Avengers", short:"瓦坎达国王，拥有超凡科技与震金战斗能力。", tags:["王者","科技","战斗"], img:"https://via.placeholder.com/320x320?text=Black+Panther" },
  { id:14, name:"蚁人 / Scott Lang", aliases:["Ant-Man"], faction:"Avengers", short:"能缩小/放大体型并控制蚂蚁的科学家/盗贼出身英雄。", tags:["体型变化","科技","幽默"], img:"https://via.placeholder.com/320x320?text=Ant-Man" },
  { id:15, name:"惊奇队长 / Carol Danvers", aliases:["Captain Marvel"], faction:"Avengers", short:"拥有强大能量与飞行能力的宇宙战士，力量惊人。", tags:["能量","飞行","宇宙"], img:"https://via.placeholder.com/320x320?text=Captain+Marvel" },
  { id:16, name:"幻视 / Vision", aliases:["Vision"], faction:"Avengers", short:"人工智能与心灵宝石结合的合成人，掌握密度控制等能力。", tags:["人工智能","密度控制","理性"], img:"https://via.placeholder.com/320x320?text=Vision" },
  { id:17, name:"红女巫 / Wanda Maximoff", aliases:["Scarlet Witch"], faction:"Avengers", short:"极强的混沌魔法使用者，能改写现实（近代设定）。", tags:["现实扭曲","魔法","心灵"], img:"https://via.placeholder.com/320x320?text=Scarlet+Witch" },
  { id:18, name:"德拉克斯 / Drax", aliases:["Drax the Destroyer"], faction:"Guardians", short:"以报仇为使命的强壮战士，擅近战。", tags:["力量","近战"], img:"https://via.placeholder.com/320x320?text=Drax" },
  { id:19, name:"卡魔拉 / Gamora", aliases:["Gamora"], faction:"Guardians", short:"银河最致命女战士之一，杀手出身，后加入护卫队。", tags:["刺杀","战斗","复仇"], img:"https://via.placeholder.com/320x320?text=Gamora" },
  { id:20, name:"夜魔侠 / Daredevil", aliases:["Matt Murdock"], faction:"Street Hero", short:"盲眼律师兼夜间英雄，感官异常敏锐，守护赫尔斯基尔。", tags:["敏锐感官","格斗","法律"], img:"https://via.placeholder.com/320x320?text=Daredevil" }
];

// 页面初始设置
const filters = ["All","Avengers","X-Men","Guardians","Villain","Antihero/Villain","Street Hero"];
const filtersEl = document.getElementById('filters');
const grid = document.getElementById('cardGrid');
const searchInput = document.getElementById('searchInput');
let activeFilter = 'All';
let searchTerm = '';

// 生成 filter chips
filters.forEach(f => {
  const b = document.createElement('button');
  b.className = 'chip' + (f==='All' ? ' active':'');
  b.textContent = f;
  b.addEventListener('click', ()=> {
    document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
    b.classList.add('active');
    activeFilter = f;
    renderCards();
  });
  filtersEl.appendChild(b);
});

// 工具：小写并去空
function norm(s){ return (s||'').toString().toLowerCase(); }

// 生成卡片
function renderCards(){
  grid.innerHTML = '';
  const term = norm(searchTerm);
  const filtered = characters.filter(c => {
    // filter by faction
    if(activeFilter !== 'All' && c.faction !== activeFilter) return false;
    // search by name / aliases / short / tags
    if(!term) return true;
    if(norm(c.name).includes(term)) return true;
    if(c.aliases && c.aliases.some(a=>norm(a).includes(term))) return true;
    if(norm(c.short).includes(term)) return true;
    if(c.tags && c.tags.some(t=>norm(t).includes(term))) return true;
    return false;
  });

  if(filtered.length === 0){
    const empty = document.createElement('div');
    empty.style.gridColumn = '1/-1';
    empty.style.textAlign = 'center';
    empty.style.color = 'var(--muted)';
    empty.textContent = '没有找到匹配的角色。尝试清空筛选或换个关键字。';
    grid.appendChild(empty);
    return;
  }

  filtered.forEach(c => {
    const card = document.createElement('div');
    card.className = 'card';
    card.tabIndex = 0;
    card.innerHTML = `
      <div class="thumb"><img src="${c.img}" alt="${c.name}" style="width:100%;height:100%;object-fit:cover"></div>
      <div class="meta">
        <h3>${c.name}</h3>
        <p>${c.short}</p>
        <p style="margin-top:6px;color:var(--muted);font-size:13px">阵营：${c.faction}</p>
      </div>
    `;
    card.addEventListener('click', ()=> openModal(c));
    grid.appendChild(card);
  });
}

// 搜索事件（节流简单实现）
let tmr;
searchInput.addEventListener('input', (e)=>{
  clearTimeout(tmr);
  searchTerm = e.target.value;
  tmr = setTimeout(renderCards, 180);
});

// Modal 控制
const modalBackdrop = document.getElementById('modalBackdrop');
const modalTitle = document.getElementById('modalTitle');
const modalImg = document.getElementById('modalImg');
const modalBio = document.getElementById('modalBio');
const modalAliases = document.getElementById('modalAliases');
const modalFaction = document.getElementById('modalFaction');
const modalTags = document.getElementById('modalTags');
const modalClose = document.getElementById('modalClose');

function openModal(c){
  modalTitle.textContent = c.name;
  modalImg.src = c.img;
  modalBio.textContent = c.short;
  modalAliases.textContent = c.aliases && c.aliases.length ? '别名：' + c.aliases.join(', ') : '';
  modalFaction.textContent = c.faction;
  modalTags.textContent = c.tags ? c.tags.join(' · ') : '';
  modalBackdrop.style.display = 'flex';
  modalBackdrop.setAttribute('aria-hidden','false');
}

function closeModal(){
  modalBackdrop.style.display = 'none';
  modalBackdrop.setAttribute('aria-hidden','true');
}
modalBackdrop.addEventListener('click', (e)=>{ if(e.target === modalBackdrop) closeModal(); });
modalClose.addEventListener('click', closeModal);
document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });

// initial render
renderCards();
</script>
</body>
</html>
